<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Google Maps JavaScript API v3 Example: Overlay Simple</title>
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script src="js_ajax.js"></script>
<script src="overlay.js"></script>
<script src='fetchXML.js'></script>
<script src="boids2.js"></script>
<script src="simulator2.js"></script>
<script type="text/javascript">
    
ajax(0);//get the kml file
var sim = null;
xml_done = function( ){ 

 
    fetchMain() 
    initialize();
    sim = new simulator();
    
    patches = new patchArray(100,100);
    sim.attachBoundry( patches);
    
    sim.startSim();
    
 


};

var overlay;
var ctx;
var _sw = { lat:33.43733935717403 ,  lon:-112.0276229510615 };
var bb;

function initialize() {
    bb = boundingBox( polygons[0] );
    
    var myLatLng = new google.maps.LatLng( bb.y, bb.x);
    var myOptions = {
	zoom: 18,
	center: myLatLng,
	mapTypeId: google.maps.MapTypeId.SATELLITE
    };



    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    
    var swBound = new google.maps.LatLng(bb.y  , bb.x  );
    var neBound = new google.maps.LatLng(bb.y + bb.width , bb.x + bb.width );
    var bounds = new google.maps.LatLngBounds(swBound, neBound);
    
    // Photograph courtesy of the U.S. Geological Survey
    var srcImage = 'http://www.safariegypt.com/egypt_nile_cruise/oberoiShehrayar/photos/OberoiSherayarSwimmingPool.jpg';
    overlay = new USGSOverlay(bounds, srcImage, map);


    var georssLayer = new google.maps.KmlLayer('http://www.m0ose.com/javascripts/airportboundry.kml');
    georssLayer.setMap(map);
}

</script>
    </head>
<body>
  <div id="map_canvas"></div>
</body>
</html>
